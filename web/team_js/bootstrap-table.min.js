!function(t){"use strict";var i=null;var e=function(t){var i=arguments,e=true,o=1;t=t.replace(/%s/g,function(){var t=i[o++];if(typeof t==="undefined"){e=false;return""}return t});return e?t:""};var o=function(i,e,o,s){var n="";t.each(i,function(t,i){if(i[e]===s){n=i[o];return false}return true});return n};var s=function(i,e){var o=-1;t.each(i,function(t,i){if(i.field===e){o=t;return false}return true});return o};var n=function(i){var e,o,s,n=0,a=[];for(e=0;e<i[0].length;e++){n+=i[0][e].colspan||1}for(e=0;e<i.length;e++){a[e]=[];for(o=0;o<n;o++){a[e][o]=false}}for(e=0;e<i.length;e++){for(o=0;o<i[e].length;o++){var r=i[e][o],l=r.rowspan||1,h=r.colspan||1,p=t.inArray(false,a[e]);if(h===1){r.fieldIndex=p;if(typeof r.field==="undefined"){r.field=p}}for(s=0;s<l;s++){a[e+s][p]=true}for(s=0;s<h;s++){a[e][p+s]=true}}}};var a=function(){if(i===null){var e=t("<p/>").addClass("fixed-table-scroll-inner"),o=t("<div/>").addClass("fixed-table-scroll-outer"),s,n;o.append(e);t("body").append(o);s=e[0].offsetWidth;o.css("overflow","scroll");n=e[0].offsetWidth;if(s===n){n=o[0].clientWidth}o.remove();i=s-n}return i};var r=function(i,o,s,n){var a=o;if(typeof o==="string"){var r=o.split(".");if(r.length>1){a=window;t.each(r,function(t,i){a=a[i]})}else{a=window[o]}}if(typeof a==="object"){return a}if(typeof a==="function"){return a.apply(i,s)}if(!a&&typeof o==="string"&&e.apply(this,[o].concat(s))){return e.apply(this,[o].concat(s))}return n};var l=function(i,e,o){var s=Object.getOwnPropertyNames(i),n=Object.getOwnPropertyNames(e),a="";if(o){if(s.length!==n.length){return false}}for(var r=0;r<s.length;r++){a=s[r];if(t.inArray(a,n)>-1){if(i[a]!==e[a]){return false}}}return true};var h=function(t){if(typeof t==="string"){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;")}return t};var p=function(i){var e=0;i.children().each(function(){if(e<t(this).outerHeight(true)){e=t(this).outerHeight(true)}});return e};var c=function(t){for(var i in t){var e=i.split(/(?=[A-Z])/).join("-").toLowerCase();if(e!==i){t[e]=t[i];delete t[i]}}return t};var d=function(t,i,e){var o=t;if(typeof i!=="string"||t.hasOwnProperty(i)){return e?h(t[i]):t[i]}var s=i.split(".");for(var n in s){o=o&&o[s[n]]}return e?h(o):o};var f=function(){return!!(navigator.userAgent.indexOf("MSIE ")>0||!!navigator.userAgent.match(/Trident.*rv\:11\./))};var u=function(i,e){this.options=e;this.$el=t(i);this.$el_=this.$el.clone();this.timeoutId_=0;this.timeoutFooter_=0;this.init()};u.DEFAULTS={classes:"table table-hover",locale:undefined,height:undefined,undefinedText:"-",sortName:undefined,sortOrder:"asc",striped:false,columns:[[]],data:[],dataField:"rows",method:"get",url:undefined,ajax:undefined,cache:true,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(t){return t},queryParamsType:"limit",responseHandler:function(t){return t},pagination:false,onlyInfoPagination:false,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:false,searchOnEnterKey:false,strictSearch:false,searchAlign:"right",selectItemName:"btSelectItem",showHeader:true,showFooter:false,showColumns:false,showPaginationSwitch:false,showRefresh:false,showToggle:false,buttonsAlign:"right",smartDisplay:true,escape:false,minimumCountColumns:1,idField:undefined,uniqueId:undefined,cardView:false,detailView:false,detailFormatter:function(t,i){return""},trimOnSearch:true,clickToSelect:false,singleSelect:false,toolbar:undefined,toolbarAlign:"left",checkboxHeader:true,sortable:true,silentSort:true,maintainSelected:false,searchTimeOut:500,searchText:"",iconSize:undefined,iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus"},rowStyle:function(t,i){return{}},rowAttributes:function(t,i){return{}},onAll:function(t,i){return false},onClickCell:function(t,i,e,o){return false},onDblClickCell:function(t,i,e,o){return false},onClickRow:function(t,i){return false},onDblClickRow:function(t,i){return false},onSort:function(t,i){return false},onCheck:function(t){return false},onUncheck:function(t){return false},onCheckAll:function(t){return false},onUncheckAll:function(t){return false},onCheckSome:function(t){return false},onUncheckSome:function(t){return false},onLoadSuccess:function(t){return false},onLoadError:function(t){return false},onColumnSwitch:function(t,i){return false},onPageChange:function(t,i){return false},onSearch:function(t){return false},onToggle:function(t){return false},onPreBody:function(t){return false},onPostBody:function(){return false},onPostHeader:function(){return false},onExpandRow:function(t,i,e){return false},onCollapseRow:function(t,i){return false},onRefreshOptions:function(t){return false},onResetView:function(){return false}};u.LOCALES=[];u.LOCALES["en-US"]=u.LOCALES["en"]={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(t){return e("%s records per page",t)},formatShowingRows:function(t,i,o){return e("Showing %s to %s of %s rows",t,i,o)},formatDetailPagination:function(t){return e("Showing %s rows",t)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}};t.extend(u.DEFAULTS,u.LOCALES["en-US"]);u.COLUMN_DEFAULTS={radio:false,checkbox:false,checkboxEnabled:true,field:undefined,title:undefined,titleTooltip:undefined,"class":undefined,align:undefined,halign:undefined,falign:undefined,valign:undefined,width:undefined,sortable:false,order:"asc",visible:true,switchable:true,clickToSelect:true,formatter:undefined,footerFormatter:undefined,events:undefined,sorter:undefined,sortName:undefined,cellStyle:undefined,searchable:true,searchFormatter:true,cardVisible:true};u.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView"};u.prototype.init=function(){this.initLocale();this.initContainer();this.initTable();this.initHeader();this.initData();this.initFooter();this.initToolbar();this.initPagination();this.initBody();this.initSearchText();this.initServer()};u.prototype.initLocale=function(){if(this.options.locale){var i=this.options.locale.split(/-|_/);i[0].toLowerCase();i[1]&&i[1].toUpperCase();if(t.fn.bootstrapTable.locales[this.options.locale]){t.extend(this.options,t.fn.bootstrapTable.locales[this.options.locale])}else if(t.fn.bootstrapTable.locales[i.join("-")]){t.extend(this.options,t.fn.bootstrapTable.locales[i.join("-")])}else if(t.fn.bootstrapTable.locales[i[0]]){t.extend(this.options,t.fn.bootstrapTable.locales[i[0]])}}};u.prototype.initContainer=function(){this.$container=t(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',this.options.paginationVAlign==="bottom"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join(""));this.$container.insertAfter(this.$el);this.$tableContainer=this.$container.find(".fixed-table-container");this.$tableHeader=this.$container.find(".fixed-table-header");this.$tableBody=this.$container.find(".fixed-table-body");this.$tableLoading=this.$container.find(".fixed-table-loading");this.$tableFooter=this.$container.find(".fixed-table-footer");this.$toolbar=this.$container.find(".fixed-table-toolbar");this.$pagination=this.$container.find(".fixed-table-pagination");this.$tableBody.append(this.$el);this.$container.after('<div class="clearfix"></div>');this.$el.addClass(this.options.classes);if(this.options.striped){this.$el.addClass("table-striped")}if(t.inArray("table-no-bordered",this.options.classes.split(" "))!==-1){this.$tableContainer.addClass("table-no-bordered")}};u.prototype.initTable=function(){var i=this,e=[],o=[];this.$header=this.$el.find(">thead");if(!this.$header.length){this.$header=t("<thead></thead>").appendTo(this.$el)}this.$header.find("tr").each(function(){var i=[];t(this).find("th").each(function(){i.push(t.extend({},{title:t(this).html(),"class":t(this).attr("class"),titleTooltip:t(this).attr("title"),rowspan:t(this).attr("rowspan")?+t(this).attr("rowspan"):undefined,colspan:t(this).attr("colspan")?+t(this).attr("colspan"):undefined},t(this).data()))});e.push(i)});if(!t.isArray(this.options.columns[0])){this.options.columns=[this.options.columns]}this.options.columns=t.extend(true,[],e,this.options.columns);this.columns=[];n(this.options.columns);t.each(this.options.columns,function(e,o){t.each(o,function(o,s){s=t.extend({},u.COLUMN_DEFAULTS,s);if(typeof s.fieldIndex!=="undefined"){i.columns[s.fieldIndex]=s}i.options.columns[e][o]=s})});if(this.options.data.length){return}this.$el.find(">tbody>tr").each(function(){var e={};e._id=t(this).attr("id");e._class=t(this).attr("class");e._data=c(t(this).data());t(this).find("td").each(function(o){var s=i.columns[o].field;e[s]=t(this).html();e["_"+s+"_id"]=t(this).attr("id");e["_"+s+"_class"]=t(this).attr("class");e["_"+s+"_rowspan"]=t(this).attr("rowspan");e["_"+s+"_title"]=t(this).attr("title");e["_"+s+"_data"]=c(t(this).data())});o.push(e)});this.options.data=o};u.prototype.initHeader=function(){var i=this,o={},s=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]};t.each(this.options.columns,function(n,a){s.push("<tr>");if(n==0&&!i.options.cardView&&i.options.detailView){s.push(e('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',i.options.columns.length))}t.each(a,function(t,n){var a="",r="",l="",h="",p=e(' class="%s"',n["class"]),c=i.options.sortOrder||n.order,d="px",f=n.width;if(n.width!==undefined&&!i.options.cardView){if(typeof n.width==="string"){if(n.width.indexOf("%")!==-1){d="%"}}}if(n.width&&typeof n.width==="string"){f=n.width.replace("%","").replace("px","")}r=e("text-align: %s; ",n.halign?n.halign:n.align);l=e("text-align: %s; ",n.align);h=e("vertical-align: %s; ",n.valign);h+=e("width: %s; ",(n.checkbox||n.radio)&&!f?"36px":f?f+d:undefined);if(typeof n.fieldIndex!=="undefined"){i.header.fields[n.fieldIndex]=n.field;i.header.styles[n.fieldIndex]=l+h;i.header.classes[n.fieldIndex]=p;i.header.formatters[n.fieldIndex]=n.formatter;i.header.events[n.fieldIndex]=n.events;i.header.sorters[n.fieldIndex]=n.sorter;i.header.sortNames[n.fieldIndex]=n.sortName;i.header.cellStyles[n.fieldIndex]=n.cellStyle;i.header.searchables[n.fieldIndex]=n.searchable;if(!n.visible){return}if(i.options.cardView&&!n.cardVisible){return}o[n.field]=n}s.push("<th"+e(' title="%s"',n.titleTooltip),n.checkbox||n.radio?e(' class="bs-checkbox %s"',n["class"]||""):p,e(' style="%s"',r+h),e(' rowspan="%s"',n.rowspan),e(' colspan="%s"',n.colspan),e(' data-field="%s"',n.field),"tabindex='0'",">");s.push(e('<div class="th-inner %s">',i.options.sortable&&n.sortable?"sortable both":""));a=n.title;if(n.checkbox){if(!i.options.singleSelect&&i.options.checkboxHeader){a='<input name="btSelectAll" type="checkbox" />'}i.header.stateField=n.field}if(n.radio){a="";i.header.stateField=n.field;i.options.singleSelect=true}s.push(a);s.push("</div>");s.push('<div class="fht-cell"></div>');s.push("</div>");s.push("</th>")});s.push("</tr>")});this.$header.html(s.join(""));this.$header.find("th[data-field]").each(function(i){t(this).data(o[t(this).data("field")])});this.$container.off("click",".th-inner").on("click",".th-inner",function(e){var o=t(this);if(o.closest(".bootstrap-table")[0]!==i.$container[0])return false;if(i.options.sortable&&o.parent().data().sortable){i.onSort(e)}});this.$header.children().children().off("keypress").on("keypress",function(e){if(i.options.sortable&&t(this).data().sortable){var o=e.keyCode||e.which;if(o==13){i.onSort(e)}}});if(!this.options.showHeader||this.options.cardView){this.$header.hide();this.$tableHeader.hide();this.$tableLoading.css("top",0)}else{this.$header.show();this.$tableHeader.show();this.$tableLoading.css("top",this.$header.outerHeight()+1);this.getCaret()}this.$selectAll=this.$header.find('[name="btSelectAll"]');this.$selectAll.off("click").on("click",function(){var e=t(this).prop("checked");i[e?"checkAll":"uncheckAll"]();i.updateSelected()})};u.prototype.initFooter=function(){if(!this.options.showFooter||this.options.cardView){this.$tableFooter.hide()}else{this.$tableFooter.show()}};u.prototype.initData=function(t,i){if(i==="append"){this.data=this.data.concat(t)}else if(i==="prepend"){this.data=[].concat(t).concat(this.data)}else{this.data=t||this.options.data}if(i==="append"){this.options.data=this.options.data.concat(t)}else if(i==="prepend"){this.options.data=[].concat(t).concat(this.options.data)}else{this.options.data=this.data}if(this.options.sidePagination==="server"){return}this.initSort()};u.prototype.initSort=function(){var i=this,e=this.options.sortName,o=this.options.sortOrder==="desc"?-1:1,s=t.inArray(this.options.sortName,this.header.fields);if(s!==-1){this.data.sort(function(n,a){if(i.header.sortNames[s]){e=i.header.sortNames[s]}var l=d(n,e,i.options.escape),h=d(a,e,i.options.escape),p=r(i.header,i.header.sorters[s],[l,h]);if(p!==undefined){return o*p}if(l===undefined||l===null){l=""}if(h===undefined||h===null){h=""}if(t.isNumeric(l)&&t.isNumeric(h)){l=parseFloat(l);h=parseFloat(h);if(l<h){return o*-1}return o}if(l===h){return 0}if(typeof l!=="string"){l=l.toString()}if(l.localeCompare(h)===-1){return o*-1}return o})}};u.prototype.onSort=function(i){var e=i.type==="keypress"?t(i.currentTarget):t(i.currentTarget).parent(),o=this.$header.find("th").eq(e.index());this.$header.add(this.$header_).find("span.order").remove();if(this.options.sortName===e.data("field")){this.options.sortOrder=this.options.sortOrder==="asc"?"desc":"asc"}else{this.options.sortName=e.data("field");this.options.sortOrder=e.data("order")==="asc"?"desc":"asc"}this.trigger("sort",this.options.sortName,this.options.sortOrder);e.add(o).data("order",this.options.sortOrder);this.getCaret();if(this.options.sidePagination==="server"){this.initServer(this.options.silentSort);return}this.initSort();this.initBody()};u.prototype.initToolbar=function(){var i=this,o=[],n=0,a,l,h=0;if(this.$toolbar.find(".bars").children().length){t("body").append(t(this.options.toolbar))}this.$toolbar.html("");if(typeof this.options.toolbar==="string"||typeof this.options.toolbar==="object"){t(e('<div class="bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(t(this.options.toolbar))}o=[e('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)];if(typeof this.options.icons==="string"){this.options.icons=r(null,this.options.icons)}if(this.options.showPaginationSwitch){o.push(e('<button class="btn btn-default" type="button" name="paginationSwitch" title="%s">',this.options.formatPaginationSwitch()),e('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>")}if(this.options.showRefresh){o.push(e('<button class="btn btn-default'+e(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" title="%s">',this.options.formatRefresh()),e('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>")}if(this.options.showToggle){o.push(e('<button class="btn btn-default'+e(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" title="%s">',this.options.formatToggle()),e('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>")}if(this.options.showColumns){o.push(e('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn btn-default'+e(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',e('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">');t.each(this.columns,function(t,s){if(s.radio||s.checkbox){return}if(i.options.cardView&&!s.cardVisible){return}var n=s.visible?' checked="checked"':"";if(s.switchable){o.push(e("<li>"+'<label><input type="checkbox" data-field="%s" value="%s"%s> %s</label>'+"</li>",s.field,t,n,s.title));h++}});o.push("</ul>","</div>")}o.push("</div>");if(this.showToolbar||o.length>2){this.$toolbar.append(o.join(""))}if(this.options.showPaginationSwitch){this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",t.proxy(this.togglePagination,this))}if(this.options.showRefresh){this.$toolbar.find('button[name="refresh"]').off("click").on("click",t.proxy(this.refresh,this))}if(this.options.showToggle){this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){i.toggleView()})}if(this.options.showColumns){a=this.$toolbar.find(".keep-open");if(h<=this.options.minimumCountColumns){a.find("input").prop("disabled",true)}a.find("li").off("click").on("click",function(t){t.stopImmediatePropagation()});a.find("input").off("click").on("click",function(){var e=t(this);i.toggleColumn(s(i.columns,t(this).data("field")),e.prop("checked"),false);i.trigger("column-switch",t(this).data("field"),e.prop("checked"))})}if(this.options.search){o=[];o.push('<div class="pull-'+this.options.searchAlign+' search">',e('<input class="form-control'+e(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>");this.$toolbar.append(o.join(""));l=this.$toolbar.find(".search input");l.off("keyup drop").on("keyup drop",function(t){if(i.options.searchOnEnterKey){if(t.keyCode!==13){return}}clearTimeout(n);n=setTimeout(function(){i.onSearch(t)},i.options.searchTimeOut)});if(f()){l.off("mouseup").on("mouseup",function(t){clearTimeout(n);n=setTimeout(function(){i.onSearch(t)},i.options.searchTimeOut)})}}};u.prototype.onSearch=function(i){var e=t.trim(t(i.currentTarget).val());if(this.options.trimOnSearch&&t(i.currentTarget).val()!==e){t(i.currentTarget).val(e)}if(e===this.searchText){return}this.searchText=e;this.options.searchText=e;this.options.pageNumber=1;this.initSearch();this.updatePagination();this.trigger("search",e)};u.prototype.initSearch=function(){var i=this;if(this.options.sidePagination!=="server"){var e=this.searchText&&this.searchText.toLowerCase();var o=t.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=o?t.grep(this.options.data,function(i,e){for(var s in o){if(t.isArray(o[s])){if(t.inArray(i[s],o[s])===-1){return false}}else if(i[s]!==o[s]){return false}}return true}):this.options.data;this.data=e?t.grep(this.data,function(o,n){for(var a in o){a=t.isNumeric(a)?parseInt(a,10):a;var l=o[a],h=i.columns[s(i.columns,a)],p=t.inArray(a,i.header.fields);if(h&&h.searchFormatter){l=r(h,i.header.formatters[p],[l,o,n],l)}var c=t.inArray(a,i.header.fields);if(c!==-1&&i.header.searchables[c]&&(typeof l==="string"||typeof l==="number")){if(i.options.strictSearch){if((l+"").toLowerCase()===e){return true}}else{if((l+"").toLowerCase().indexOf(e)!==-1){return true}}}}return false}):this.data}};u.prototype.initPagination=function(){if(!this.options.pagination){this.$pagination.hide();return}else{this.$pagination.show()}var i=this,o=[],s=false,n,a,r,l,h,p,c,d,f,u=this.getData();if(this.options.sidePagination!=="server"){this.options.totalRows=u.length}this.totalPages=0;if(this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows()){this.options.pageSize=this.options.totalRows;s=true}else if(this.options.pageSize===this.options.totalRows){var g=typeof this.options.pageList==="string"?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;if(t.inArray(this.options.formatAllRows().toLowerCase(),g)>-1){s=true}}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1;this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages){this.options.pageNumber=this.totalPages}this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1;this.pageTo=this.options.pageNumber*this.options.pageSize;if(this.pageTo>this.options.totalRows){this.pageTo=this.options.totalRows}o.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>");if(!this.options.onlyInfoPagination){o.push('<span class="page-list">');var b=[e('<span class="btn-group %s">',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?"dropdown":"dropup"),'<button type="button" class="btn btn-default '+e(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',s?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'],m=this.options.pageList;if(typeof this.options.pageList==="string"){var y=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");m=[];t.each(y,function(t,e){m.push(e.toUpperCase()===i.options.formatAllRows().toUpperCase()?i.options.formatAllRows():+e)})}t.each(m,function(t,o){if(!i.options.smartDisplay||t===0||m[t-1]<=i.options.totalRows){var n;if(s){n=o===i.options.formatAllRows()?' class="active"':""}else{n=o===i.options.pageSize?' class="active"':""}b.push(e('<li%s><a href="javascript:void(0)">%s</a></li>',n,o))}});b.push("</ul></span>");o.push(this.options.formatRecordsPerPage(b.join("")));o.push("</span>");o.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination col-sm-6 text-right"><div class="row"><div class="col-lg-9">','<ul class="pagination'+e(" pagination-%s",this.options.iconSize)+'">','<li class="page-pre"><a href="javascript:void(0)">'+this.options.paginationPreText+"</a></li>");if(this.totalPages<5){a=1;r=this.totalPages}else{a=this.options.pageNumber-2;r=a+4;if(a<1){a=1;r=5}if(r>this.totalPages){r=this.totalPages;a=r-4}}if(this.totalPages>=6){if(this.options.pageNumber>=3){o.push('<li class="page-first'+(1===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',1,"</a>","</li>");a++}if(this.options.pageNumber>=4){if(this.options.pageNumber==4||this.totalPages==6||this.totalPages==7){a--}else{o.push('<li class="page-first-separator disabled">','<a href="javascript:void(0)">...</a>',"</li>")}r--}}if(this.totalPages>=7){if(this.options.pageNumber>=this.totalPages-2){a--}}if(this.totalPages==6){if(this.options.pageNumber>=this.totalPages-2){r++}}else if(this.totalPages>=7){if(this.totalPages==7||this.options.pageNumber>=this.totalPages-3){r++}}for(n=a;n<=r;n++){o.push('<li class="page-number'+(n===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',n,"</a>","</li>")}if(this.totalPages>=8){if(this.options.pageNumber<=this.totalPages-4){o.push('<li class="page-last-separator disabled">','<a href="javascript:void(0)">...</a>',"</li>")}}if(this.totalPages>=6){if(this.options.pageNumber<=this.totalPages-3){o.push('<li class="page-last'+(this.totalPages===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',this.totalPages,"</a>","</li>")}}o.push('<li class="page-next"><a href="javascript:void(0)">'+this.options.paginationNextText+"</a></li>",'</ul></div><div class="col-lg-3"><div class="input-group" style="width:100px;">','<input type="text" class="form-control" placeholder="页码" value="'+this.options.pageNumber+'">','<span class="input-group-btn"><button class="btn btn-default" type="button">Go</button></span></div></div></div></div>')}this.$pagination.html(o.join(""));if(!this.options.onlyInfoPagination){l=this.$pagination.find(".page-list a");h=this.$pagination.find(".page-first");p=this.$pagination.find(".page-pre");c=this.$pagination.find(".page-next");d=this.$pagination.find(".page-last");f=this.$pagination.find(".page-number");if(this.options.smartDisplay){if(this.totalPages<=1){this.$pagination.find("div.pagination").hide()}if(m.length<2||this.options.totalRows<=m[0]){this.$pagination.find("span.page-list").hide()}this.$pagination[this.getData().length?"show":"hide"]()}if(s){this.options.pageSize=this.options.formatAllRows()}l.off("click").on("click",t.proxy(this.onPageListChange,this));h.off("click").on("click",t.proxy(this.onPageFirst,this));p.off("click").on("click",t.proxy(this.onPagePre,this));c.off("click").on("click",t.proxy(this.onPageNext,this));d.off("click").on("click",t.proxy(this.onPageLast,this));f.off("click").on("click",t.proxy(this.onPageNumber,this));this.$pagination.find(".btn").off("click").on("click",t.proxy(function(t){var i=this.$pagination.find(".form-control").val();if(i&&this.options.pageNumber!=+i){this.options.pageNumber=+i;this.updatePagination(t)}},this))}};u.prototype.updatePagination=function(i){if(i&&t(i.currentTarget).hasClass("disabled")){return}if(!this.options.maintainSelected){this.resetRows()}this.initPagination();if(this.options.sidePagination==="server"){this.initServer()}else{this.initBody()}this.trigger("page-change",this.options.pageNumber,this.options.pageSize)};u.prototype.onPageListChange=function(i){var e=t(i.currentTarget);e.parent().addClass("active").siblings().removeClass("active");this.options.pageSize=e.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+e.text();this.$toolbar.find(".page-size").text(this.options.pageSize);this.updatePagination(i)};u.prototype.onPageFirst=function(t){this.options.pageNumber=1;this.updatePagination(t)};u.prototype.onPagePre=function(t){if(this.options.pageNumber-1==0){this.options.pageNumber=this.options.totalPages}else{this.options.pageNumber--}this.updatePagination(t)};u.prototype.onPageNext=function(t){if(this.options.pageNumber+1>this.options.totalPages){this.options.pageNumber=1}else{this.options.pageNumber++}this.updatePagination(t)};u.prototype.onPageLast=function(t){this.options.pageNumber=this.totalPages;this.updatePagination(t)};u.prototype.onPageNumber=function(i){if(this.options.pageNumber===+t(i.currentTarget).text()){return}this.options.pageNumber=+t(i.currentTarget).text();this.updatePagination(i)};u.prototype.initBody=function(i){var n=this,a=[],l=this.getData();this.trigger("pre-body",l);this.$body=this.$el.find(">tbody");if(!this.$body.length){this.$body=t("<tbody></tbody>").appendTo(this.$el)}if(!this.options.pagination||this.options.sidePagination==="server"){this.pageFrom=1;this.pageTo=l.length}for(var p=this.pageFrom-1;p<this.pageTo;p++){var c,f=l[p],u={},g=[],b="",m={},y=[];u=r(this.options,this.options.rowStyle,[f,p],u);if(u&&u.css){for(c in u.css){g.push(c+": "+u.css[c])}}m=r(this.options,this.options.rowAttributes,[f,p],m);if(m){for(c in m){y.push(e('%s="%s"',c,h(m[c])))}}if(f._data&&!t.isEmptyObject(f._data)){t.each(f._data,function(t,i){if(t==="index"){return}b+=e(' data-%s="%s"',t,i)})}a.push("<tr",e(" %s",y.join(" ")),e(' id="%s"',t.isArray(f)?undefined:f._id),e(' class="%s"',u.classes||(t.isArray(f)?undefined:f._class)),e(' data-index="%s"',p),e(' data-uniqueid="%s"',f[this.options.uniqueId]),e("%s",b),">");if(this.options.cardView){a.push(e('<td colspan="%s">',this.header.fields.length))}if(!this.options.cardView&&this.options.detailView){a.push("<td>",'<a class="detail-icon" href="javascript:">',e('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>","</td>")}t.each(this.header.fields,function(i,l){var h="",c=d(f,l,n.options.escape),b="",m={},y="",v=n.header.classes[i],w="",x="",$="",k=n.columns[s(n.columns,l)];if(!k.visible){return}u=e('style="%s"',g.concat(n.header.styles[i]).join("; "));c=r(k,n.header.formatters[i],[c,f,p],c);if(f["_"+l+"_id"]){y=e(' id="%s"',f["_"+l+"_id"])}if(f["_"+l+"_class"]){v=e(' class="%s"',f["_"+l+"_class"])}if(f["_"+l+"_rowspan"]){x=e(' rowspan="%s"',f["_"+l+"_rowspan"])}if(f["_"+l+"_title"]){$=e(' title="%s"',f["_"+l+"_title"])}m=r(n.header,n.header.cellStyles[i],[c,f,p],m);if(m.classes){v=e(' class="%s"',m.classes)}if(m.css){var S=[];for(var P in m.css){S.push(P+": "+m.css[P])}u=e('style="%s"',S.concat(n.header.styles[i]).join("; "))}if(f["_"+l+"_data"]&&!t.isEmptyObject(f["_"+l+"_data"])){t.each(f["_"+l+"_data"],function(t,i){if(t==="index"){return}w+=e(' data-%s="%s"',t,i)})}if(k.checkbox||k.radio){b=k.checkbox?"checkbox":b;b=k.radio?"radio":b;h=[e(n.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',k["class"]||""),"<input"+e(' data-index="%s"',p)+e(' name="%s"',n.options.selectItemName)+e(' type="%s"',b)+e(' value="%s"',f[n.options.idField])+e(' checked="%s"',c===true||c&&c.checked?"checked":undefined)+e(' disabled="%s"',!k.checkboxEnabled||c&&c.disabled?"disabled":undefined)+" />",n.header.formatters[i]&&typeof c==="string"?c:"",n.options.cardView?"</div>":"</td>"].join("");f[n.header.stateField]=c===true||c&&c.checked}else{c=typeof c==="undefined"||c===null?n.options.undefinedText:c;h=n.options.cardView?['<div class="card-view">',n.options.showHeader?e('<span class="title" %s>%s</span>',u,o(n.columns,"field","title",l)):"",e('<span class="value">%s</span>',c),"</div>"].join(""):[e("<td%s %s %s %s %s %s>",y,v,u,w,x,$),c,"</td>"].join("");if(n.options.cardView&&n.options.smartDisplay&&c===""){h='<div class="card-view"></div>'}}a.push(h)});if(this.options.cardView){a.push("</td>")}a.push("</tr>")}if(!a.length){a.push('<tr class="no-records-found">',e('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches()),"</tr>")}this.$body.html(a.join(""));if(!i){this.scrollTo(0)}this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(i){var o=t(this),a=o.parent(),r=n.data[a.data("index")],l=o[0].cellIndex,h=n.header.fields[n.options.detailView&&!n.options.cardView?l-1:l],p=n.columns[s(n.columns,h)],c=d(r,h,n.options.escape);if(o.find(".detail-icon").length){return}n.trigger(i.type==="click"?"click-cell":"dbl-click-cell",h,c,r,o);n.trigger(i.type==="click"?"click-row":"dbl-click-row",r,a);if(i.type==="click"&&n.options.clickToSelect&&p.clickToSelect){var f=a.find(e('[name="%s"]',n.options.selectItemName));if(f.length){f[0].click()}}});this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(){var i=t(this),o=i.parent().parent(),s=o.data("index"),a=l[s];
if(o.next().is("tr.detail-view")){i.find("i").attr("class",e("%s %s",n.options.iconsPrefix,n.options.icons.detailOpen));o.next().remove();n.trigger("collapse-row",s,a)}else{i.find("i").attr("class",e("%s %s",n.options.iconsPrefix,n.options.icons.detailClose));o.after(e('<tr class="detail-view"><td colspan="%s"></td></tr>',o.find("td").length));var h=o.next().find("td");var p=r(n.options,n.options.detailFormatter,[s,a,h],"");if(h.length===1){h.append(p)}n.trigger("expand-row",s,a,h)}n.resetView()});this.$selectItem=this.$body.find(e('[name="%s"]',this.options.selectItemName));this.$selectItem.off("click").on("click",function(i){i.stopImmediatePropagation();var e=t(this),o=e.prop("checked"),s=n.data[e.data("index")];if(n.options.maintainSelected&&t(this).is(":radio")){t.each(n.options.data,function(t,i){i[n.header.stateField]=false})}s[n.header.stateField]=o;if(n.options.singleSelect){n.$selectItem.not(this).each(function(){n.data[t(this).data("index")][n.header.stateField]=false});n.$selectItem.filter(":checked").not(this).prop("checked",false)}n.updateSelected();n.trigger(o?"check":"uncheck",s,e)});t.each(this.header.events,function(i,e){if(!e){return}if(typeof e==="string"){e=r(null,e)}var o=n.header.fields[i],s=t.inArray(o,n.getVisibleFields());if(n.options.detailView&&!n.options.cardView){s+=1}for(var a in e){n.$body.find(">tr:not(.no-records-found)").each(function(){var i=t(this),r=i.find(n.options.cardView?".card-view":"td").eq(s),l=a.indexOf(" "),h=a.substring(0,l),p=a.substring(l+1),c=e[a];r.find(p).off(h).on(h,function(t){var e=i.data("index"),s=n.data[e],a=s[o];c.apply(this,[t,a,s,e])})})}});this.updateSelected();this.resetView();this.trigger("post-body")};u.prototype.initServer=function(i,e){var o=this,s={},n={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder},a;if(this.options.pagination){n.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize;n.pageNumber=this.options.pageNumber}if(!this.options.url&&!this.options.ajax){return}if(this.options.queryParamsType==="limit"){n={search:n.searchText,sort:n.sortName,order:n.sortOrder};if(this.options.pagination){n.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize;n.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1)}}if(!t.isEmptyObject(this.filterColumnsPartial)){n["filter"]=JSON.stringify(this.filterColumnsPartial,null)}s=r(this.options,this.options.queryParams,[n],s);t.extend(s,e||{});if(s===false){return}if(!i){this.$tableLoading.show()}a=t.extend({},r(null,this.options.ajaxOptions),{type:this.options.method,url:this.options.url,data:this.options.contentType==="application/json"&&this.options.method==="post"?JSON.stringify(s):s,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(t){t=r(o.options,o.options.responseHandler,[t],t);o.load(t);o.trigger("load-success",t);if(!i)o.$tableLoading.hide()},error:function(t){o.trigger("load-error",t.status,t);if(!i)o.$tableLoading.hide()}});if(this.options.ajax){r(this,this.options.ajax,[a],null)}else{t.ajax(a)}};u.prototype.initSearchText=function(){if(this.options.search){if(this.options.searchText!==""){var t=this.$toolbar.find(".search input");t.val(this.options.searchText);this.onSearch({currentTarget:t})}}};u.prototype.getCaret=function(){var i=this;t.each(this.$header.find("th"),function(e,o){t(o).find(".sortable").removeClass("desc asc").addClass(t(o).data("field")===i.options.sortName?i.options.sortOrder:"both")})};u.prototype.updateSelected=function(){var i=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",i);this.$selectItem.each(function(){t(this).closest("tr")[t(this).prop("checked")?"addClass":"removeClass"]("selected")})};u.prototype.updateRows=function(){var i=this;this.$selectItem.each(function(){i.data[t(this).data("index")][i.header.stateField]=t(this).prop("checked")})};u.prototype.resetRows=function(){var i=this;t.each(this.data,function(t,e){i.$selectAll.prop("checked",false);i.$selectItem.prop("checked",false);if(i.header.stateField){e[i.header.stateField]=false}})};u.prototype.trigger=function(i){var e=Array.prototype.slice.call(arguments,1);i+=".bs.table";this.options[u.EVENTS[i]].apply(this.options,e);this.$el.trigger(t.Event(i),e);this.options.onAll(i,e);this.$el.trigger(t.Event("all.bs.table"),[i,e])};u.prototype.resetHeader=function(){clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(t.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)};u.prototype.fitHeader=function(){var i=this,o,s,n,r;if(i.$el.is(":hidden")){i.timeoutId_=setTimeout(t.proxy(i.fitHeader,i),100);return}o=this.$tableBody.get(0);s=o.scrollWidth>o.clientWidth&&o.scrollHeight>o.clientHeight+this.$header.outerHeight()?a():0;this.$el.css("margin-top",-this.$header.outerHeight());n=t(":focus");if(n.length>0){var l=n.parents("th");if(l.length>0){var h=l.attr("data-field");if(h!==undefined){var p=this.$header.find("[data-field='"+h+"']");if(p.length>0){p.find(":input").addClass("focus-temp")}}}}this.$header_=this.$header.clone(true,true);this.$selectAll_=this.$header_.find('[name="btSelectAll"]');this.$tableHeader.css({"margin-right":s}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_);r=t(".focus-temp:visible:eq(0)");if(r.length>0){r.focus();this.$header.find(".focus-temp").removeClass("focus-temp")}this.$header.find("th[data-field]").each(function(o){i.$header_.find(e('th[data-field="%s"]',t(this).data("field"))).data(t(this).data())});var c=this.getVisibleFields();this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(o){var s=t(this),n=o;if(i.options.detailView&&!i.options.cardView){if(o===0){i.$header_.find("th.detail").find(".fht-cell").width(s.innerWidth())}n=o-1}i.$header_.find(e('th[data-field="%s"]',c[n])).find(".fht-cell").width(s.innerWidth())});this.$tableBody.off("scroll").on("scroll",function(){i.$tableHeader.scrollLeft(t(this).scrollLeft());if(i.options.showFooter&&!i.options.cardView){i.$tableFooter.scrollLeft(t(this).scrollLeft())}});i.trigger("post-header")};u.prototype.resetFooter=function(){var i=this,o=i.getData(),s=[];if(!this.options.showFooter||this.options.cardView){return}if(!this.options.cardView&&this.options.detailView){s.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>')}t.each(this.columns,function(t,n){var a="",l="",h=e(' class="%s"',n["class"]);if(!n.visible){return}if(i.options.cardView&&!n.cardVisible){return}a=e("text-align: %s; ",n.falign?n.falign:n.align);l=e("vertical-align: %s; ",n.valign);s.push("<td",h,e(' style="%s"',a+l),">");s.push('<div class="th-inner">');s.push(r(n,n.footerFormatter,[o],"&nbsp;")||"&nbsp;");s.push("</div>");s.push('<div class="fht-cell"></div>');s.push("</div>");s.push("</td>")});this.$tableFooter.find("tr").html(s.join(""));clearTimeout(this.timeoutFooter_);this.timeoutFooter_=setTimeout(t.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0)};u.prototype.fitFooter=function(){var i=this,e,o,s;clearTimeout(this.timeoutFooter_);if(this.$el.is(":hidden")){this.timeoutFooter_=setTimeout(t.proxy(this.fitFooter,this),100);return}o=this.$el.css("width");s=o>this.$tableBody.width()?a():0;this.$tableFooter.css({"margin-right":s}).find("table").css("width",o).attr("class",this.$el.attr("class"));e=this.$tableFooter.find("td");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(i){var o=t(this);e.eq(i).find(".fht-cell").width(o.innerWidth())})};u.prototype.toggleColumn=function(t,i,o){if(t===-1){return}this.columns[t].visible=i;this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var s=this.$toolbar.find(".keep-open input").prop("disabled",false);if(o){s.filter(e('[value="%s"]',t)).prop("checked",i)}if(s.filter(":checked").length<=this.options.minimumCountColumns){s.filter(":checked").prop("disabled",true)}}};u.prototype.toggleRow=function(t,i,o){if(t===-1){return}this.$body.find(typeof t!=="undefined"?e('tr[data-index="%s"]',t):e('tr[data-uniqueid="%s"]',i))[o?"show":"hide"]()};u.prototype.getVisibleFields=function(){var i=this,e=[];t.each(this.header.fields,function(t,o){var n=i.columns[s(i.columns,o)];if(!n.visible){return}e.push(o)});return e};u.prototype.resetView=function(t){var i=0;if(t&&t.height){this.options.height=t.height}this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length);if(this.options.height){var e=p(this.$toolbar),o=p(this.$pagination),s=this.options.height-e-o;this.$tableContainer.css("height",s+"px")}if(this.options.cardView){this.$el.css("margin-top","0");this.$tableContainer.css("padding-bottom","0");return}if(this.options.showHeader&&this.options.height){this.$tableHeader.show();this.resetHeader();i+=this.$header.outerHeight()}else{this.$tableHeader.hide();this.trigger("post-header")}if(this.options.showFooter){this.resetFooter();if(this.options.height){i+=this.$tableFooter.outerHeight()+1}}this.getCaret();this.$tableContainer.css("padding-bottom",i+"px");this.trigger("reset-view")};u.prototype.getData=function(i){return this.searchText||!t.isEmptyObject(this.filterColumns)||!t.isEmptyObject(this.filterColumnsPartial)?i?this.data.slice(this.pageFrom-1,this.pageTo):this.data:i?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data};u.prototype.load=function(i){var e=false;if(this.options.sidePagination==="server"){this.options.totalRows=i.total;e=i.fixedScroll;i=i[this.options.dataField]}else if(!t.isArray(i)){e=i.fixedScroll;i=i.data}this.initData(i);this.initSearch();this.initPagination();this.initBody(e)};u.prototype.append=function(t){this.initData(t,"append");this.initSearch();this.initPagination();this.initSort();this.initBody(true)};u.prototype.prepend=function(t){this.initData(t,"prepend");this.initSearch();this.initPagination();this.initSort();this.initBody(true)};u.prototype.remove=function(i){var e=this.options.data.length,o,s;if(!i.hasOwnProperty("field")||!i.hasOwnProperty("values")){return}for(o=e-1;o>=0;o--){s=this.options.data[o];if(!s.hasOwnProperty(i.field)){continue}if(t.inArray(s[i.field],i.values)!==-1){this.options.data.splice(o,1)}}if(e===this.options.data.length){return}this.initSearch();this.initPagination();this.initSort();this.initBody(true)};u.prototype.removeAll=function(){if(this.options.data.length>0){this.options.data.splice(0,this.options.data.length);this.initSearch();this.initPagination();this.initBody(true)}};u.prototype.getRowByUniqueId=function(t){var i=this.options.uniqueId,e=this.options.data.length,o=null,s,n,a;for(s=e-1;s>=0;s--){n=this.options.data[s];if(n.hasOwnProperty(i)){a=n[i]}else if(n._data.hasOwnProperty(i)){a=n._data[i]}else{continue}if(typeof a==="string"){t=t.toString()}else if(typeof a==="number"){if(Number(a)===a&&a%1===0){t=parseInt(t)}else if(a===Number(a)&&a!==0){t=parseFloat(t)}}if(a===t){o=n;break}}return o};u.prototype.removeByUniqueId=function(t){var i=this.options.data.length,e=this.getRowByUniqueId(t);if(e){this.options.data.splice(this.options.data.indexOf(e),1)}if(i===this.options.data.length){return}this.initSearch();this.initPagination();this.initBody(true)};u.prototype.updateByUniqueId=function(i){var e;if(!i.hasOwnProperty("id")||!i.hasOwnProperty("row")){return}e=t.inArray(this.getRowByUniqueId(i.id),this.options.data);if(e===-1){return}t.extend(this.data[e],i.row);this.initSort();this.initBody(true)};u.prototype.insertRow=function(t){if(!t.hasOwnProperty("index")||!t.hasOwnProperty("row")){return}this.data.splice(t.index,0,t.row);this.initSearch();this.initPagination();this.initSort();this.initBody(true)};u.prototype.updateRow=function(i){if(!i.hasOwnProperty("index")||!i.hasOwnProperty("row")){return}t.extend(this.data[i.index],i.row);this.initSort();this.initBody(true)};u.prototype.showRow=function(t){if(!t.hasOwnProperty("index")&&!t.hasOwnProperty("uniqueId")){return}this.toggleRow(t.index,t.uniqueId,true)};u.prototype.hideRow=function(t){if(!t.hasOwnProperty("index")&&!t.hasOwnProperty("uniqueId")){return}this.toggleRow(t.index,t.uniqueId,false)};u.prototype.getRowsHidden=function(i){var e=t(this.$body[0]).children().filter(":hidden"),o=0;if(i){for(;o<e.length;o++){t(e[o]).show()}}return e};u.prototype.mergeCells=function(i){var e=i.index,o=t.inArray(i.field,this.getVisibleFields()),s=i.rowspan||1,n=i.colspan||1,a,r,l=this.$body.find(">tr"),h;if(this.options.detailView&&!this.options.cardView){o+=1}h=l.eq(e).find(">td").eq(o);if(e<0||o<0||e>=this.data.length){return}for(a=e;a<e+s;a++){for(r=o;r<o+n;r++){l.eq(a).find(">td").eq(r).hide()}}h.attr("rowspan",s).attr("colspan",n).show()};u.prototype.updateCell=function(t){if(!t.hasOwnProperty("index")||!t.hasOwnProperty("field")||!t.hasOwnProperty("value")){return}this.data[t.index][t.field]=t.value;if(t.reinit===false){return}this.initSort();this.initBody(true)};u.prototype.getOptions=function(){return this.options};u.prototype.getSelections=function(){var i=this;return t.grep(this.data,function(t){return t[i.header.stateField]})};u.prototype.getAllSelections=function(){var i=this;return t.grep(this.options.data,function(t){return t[i.header.stateField]})};u.prototype.checkAll=function(){this.checkAll_(true)};u.prototype.uncheckAll=function(){this.checkAll_(false)};u.prototype.checkInvert=function(){var i=this;var e=i.$selectItem.filter(":enabled");var o=e.filter(":checked");e.each(function(){t(this).prop("checked",!t(this).prop("checked"))});i.updateRows();i.updateSelected();i.trigger("uncheck-some",o);o=i.getSelections();i.trigger("check-some",o)};u.prototype.checkAll_=function(t){var i;if(!t){i=this.getSelections()}this.$selectAll.add(this.$selectAll_).prop("checked",t);this.$selectItem.filter(":enabled").prop("checked",t);this.updateRows();if(t){i=this.getSelections()}this.trigger(t?"check-all":"uncheck-all",i)};u.prototype.check=function(t){this.check_(true,t)};u.prototype.uncheck=function(t){this.check_(false,t)};u.prototype.check_=function(t,i){var o=this.$selectItem.filter(e('[data-index="%s"]',i)).prop("checked",t);this.data[i][this.header.stateField]=t;this.updateSelected();this.trigger(t?"check":"uncheck",this.data[i],o)};u.prototype.checkBy=function(t){this.checkBy_(true,t)};u.prototype.uncheckBy=function(t){this.checkBy_(false,t)};u.prototype.checkBy_=function(i,o){if(!o.hasOwnProperty("field")||!o.hasOwnProperty("values")){return}var s=this,n=[];t.each(this.options.data,function(a,r){if(!r.hasOwnProperty(o.field)){return false}if(t.inArray(r[o.field],o.values)!==-1){var l=s.$selectItem.filter(":enabled").filter(e('[data-index="%s"]',a)).prop("checked",i);r[s.header.stateField]=i;n.push(r);s.trigger(i?"check":"uncheck",r,l)}});this.updateSelected();this.trigger(i?"check-some":"uncheck-some",n)};u.prototype.destroy=function(){this.$el.insertBefore(this.$container);t(this.options.toolbar).insertBefore(this.$el);this.$container.next().remove();this.$container.remove();this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")};u.prototype.showLoading=function(){this.$tableLoading.show()};u.prototype.hideLoading=function(){this.$tableLoading.hide()};u.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var t=this.$toolbar.find('button[name="paginationSwitch"] i');if(this.options.pagination){t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown)}else{t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp)}this.updatePagination()};u.prototype.refresh=function(t){if(t&&t.url){this.options.url=t.url;this.options.pageNumber=1}this.initServer(t&&t.silent,t&&t.query)};u.prototype.resetWidth=function(){if(this.options.showHeader&&this.options.height){this.fitHeader()}if(this.options.showFooter){this.fitFooter()}};u.prototype.showColumn=function(t){this.toggleColumn(s(this.columns,t),true,true)};u.prototype.hideColumn=function(t){this.toggleColumn(s(this.columns,t),false,true)};u.prototype.getHiddenColumns=function(){return t.grep(this.columns,function(t){return!t.visible})};u.prototype.filterBy=function(i){this.filterColumns=t.isEmptyObject(i)?{}:i;this.options.pageNumber=1;this.initSearch();this.updatePagination()};u.prototype.scrollTo=function(t){if(typeof t==="string"){t=t==="bottom"?this.$tableBody[0].scrollHeight:0}if(typeof t==="number"){this.$tableBody.scrollTop(t)}if(typeof t==="undefined"){return this.$tableBody.scrollTop()}};u.prototype.getScrollPosition=function(){return this.scrollTo()};u.prototype.selectPage=function(t){if(t>0&&t<=this.options.totalPages){this.options.pageNumber=t;this.updatePagination()}};u.prototype.prevPage=function(){if(this.options.pageNumber>1){this.options.pageNumber--;this.updatePagination()}};u.prototype.nextPage=function(){if(this.options.pageNumber<this.options.totalPages){this.options.pageNumber++;this.updatePagination()}};u.prototype.toggleView=function(){this.options.cardView=!this.options.cardView;this.initHeader();this.initBody();this.trigger("toggle",this.options.cardView)};u.prototype.refreshOptions=function(i){if(l(this.options,i,true)){return}this.options=t.extend(this.options,i);this.trigger("refresh-options",this.options);this.destroy();this.init()};u.prototype.resetSearch=function(t){var i=this.$toolbar.find(".search input");i.val(t||"");this.onSearch({currentTarget:i})};u.prototype.expandRow_=function(t,i){var o=this.$body.find(e('> tr[data-index="%s"]',i));if(o.next().is("tr.detail-view")===(t?false:true)){o.find("> td > .detail-icon").click()}};u.prototype.expandRow=function(t){this.expandRow_(true,t)};u.prototype.collapseRow=function(t){this.expandRow_(false,t)};u.prototype.expandAllRows=function(i){if(i){var o=this.$body.find(e('> tr[data-index="%s"]',0)),s=this,n=null,a=false,r=-1;if(!o.next().is("tr.detail-view")){o.find("> td > .detail-icon").click();a=true}else if(!o.next().next().is("tr.detail-view")){o.next().find(".detail-icon").click();a=true}if(a){try{r=setInterval(function(){n=s.$body.find("tr.detail-view").last().find(".detail-icon");if(n.length>0){n.click()}else{clearInterval(r)}},1)}catch(l){clearInterval(r)}}}else{var h=this.$body.children();for(var p=0;p<h.length;p++){this.expandRow_(true,t(h[p]).data("index"))}}};u.prototype.collapseAllRows=function(i){if(i){this.expandRow_(false,0)}else{var e=this.$body.children();for(var o=0;o<e.length;o++){this.expandRow_(false,t(e[o]).data("index"))}}};u.prototype.updateFormatText=function(t,i){if(this.options[e("format%s",t)]){if(typeof i==="string"){this.options[e("format%s",t)]=function(){return i}}else if(typeof i==="function"){this.options[e("format%s",t)]=i}}this.initToolbar();this.initPagination();this.initBody()};var g=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getRowsHidden","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText"];t.fn.bootstrapTable=function(i){var e,o=Array.prototype.slice.call(arguments,1);this.each(function(){var s=t(this),n=s.data("bootstrap.table"),a=t.extend({},u.DEFAULTS,s.data(),typeof i==="object"&&i);if(typeof i==="string"){if(t.inArray(i,g)<0){throw new Error("Unknown method: "+i)}if(!n){return}e=n[i].apply(n,o);if(i==="destroy"){s.removeData("bootstrap.table")}}if(!n){s.data("bootstrap.table",n=new u(this,a))}});return typeof e==="undefined"?this:e};t.fn.bootstrapTable.Constructor=u;t.fn.bootstrapTable.defaults=u.DEFAULTS;t.fn.bootstrapTable.columnDefaults=u.COLUMN_DEFAULTS;t.fn.bootstrapTable.locales=u.LOCALES;t.fn.bootstrapTable.methods=g;t.fn.bootstrapTable.utils={sprintf:e,getFieldIndex:s,compareObjects:l,calculateObjectValue:r};t(function(){t('[data-toggle="table"]').bootstrapTable()})}(jQuery);